(spa-def) {
    tls /etc/caddy/certificate.pem /etc/caddy/key.pem
        encode gzip
}

(cors-and-tls) {
    tls /etc/caddy/certificate.pem /etc/caddy/key.pem
        header {
                Access-Control-Allow-Origin *
                Access-Control-Allow-Credentials true
                Access-Control-Allow-Methods *
                Access-Control-Allow-Headers *
                defer
        }

artela-testnet-rpc.itrocket.net, www.artela-testnet-rpc.itrocket.net {
        import cors-and-tls
        reverse_proxy  localhost:<rpc_port>
}
artela-testnet-api.itrocket.net, www.artela-testnet-api.itrocket.net {
        import cors-and-tls
        reverse_proxy  localhost:<api_port>
}